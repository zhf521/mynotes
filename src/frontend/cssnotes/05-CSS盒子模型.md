---
title: CSS盒子模型
order: 5
---

## CSS 长度单位

1. px：像素
2. em：相对元素 `font-size` 的倍数
3. rem：相对根字体大小，HTML 标签就是根
4. %：相对父元素计算

## CSS 的元素显示模式

定义：元素显示模式就是元素（标签）以什么方式进行显示，比如 `<div>` 自己占一行，比如一行可以放多个 `<span>`

作用：网页的标签非常多，在不同地方会用到不同类型的标签，了解他们的特点可以更好的布局我们的网页

### 元素显示模式的分类

#### 块元素

```html
<!-- 主体结构标签 -->
<html>、<body>
<!-- 排版标签 -->
<h1>~<h6>、<hr>、<p>、<pre>、<div>
<!-- 列表标签 -->
<ul>、<ol>、<li>、<dl>、<dt>、<dd>
<!-- 表格相关标签 -->
<table>、<tbody>、<thead>、<tfoot>、<tr>、<caption>
<!-- 表单相关标签 -->
<form>与<option>
```

块级元素的特点：
1. 在页面中独占一行，不会与任何元素共用一行，是从上到下排列的
2. 默认宽度：撑满父元素
3. 默认高度：由内容撑开
4. 可以通过 CSS 设置宽高

注意：
+ 文字类的元素内不能放块级元素
+ `<p>` 标签主要用于存放文字，因此 `<p>` 里面不能放块级元素，特别是不能放 `<div>`
+ `<h1>~<h6>` 等都是文字类块级标签，里面也不能放其他块级元素

#### 行内元素

```html
<!-- 文本标签 -->
<br>、<em>、<strong>、<sup>、<sub>、<del>、<ins>
<!-- 其它标签 -->
<a>与<label>
```

`<span>` 标签是最典型的行内元素。有的地方也将行内元素称为内联元素

行内元素的特点：
1. 在页面中不独占一行，一行中不能容纳下的行内元素，会在下一行继续从左到右排列
2. 默认宽度：由内容撑开
3. 默认高度：由内容撑开
4. 无法通过 CSS 设置宽高

注意：
+ 链接里面不能再放链接
+ 特殊情况链接 `<a>` 里面可以放块级元素，但是给 `<a>` 转换成块级模式最安全

#### 行内块元素

```html
<!-- 图片 -->
<img>
<!-- 单元格 -->
<td>、<th>
<!-- 表单控件 -->
<input>、<textarea>、<select>、<button>
<!-- 框架标签 -->
<iframe>
```

它们同时具有块元素和行内元素的特点

行内块元素的特点：
1. 在页面中不独占一行，一行中不能容纳下的行内元素，会在下一行继续从左到右排 列
2. 默认宽度：由内容撑开
3. 默认高度：由内容撑开
4. 可以通过 CSS 设置宽高

### 元素显示模式总结

| 元素模式 | 元素排列 | 设置样式 | 默认宽度 | 包含 |
| -------- | -------- | -------- | -------- | ---- |
| 块级元素 |一行只能放一个块级元素          | 可以设置宽度高度         | 容器的 100%         | 容器可以包含任何标签     |
| 行内元素 | 一行可以放多个行内元素         |  不可以直接设置宽度高度        | 它本身内容的宽度         |  容纳文本或其他行内元素    |
| 行内块元素         | 一行放多个行内块元素         | 可以设置宽度和高度         | 它本身内容的宽度         |      |

### 元素显示模式的转换

通过 CSS 中的 display 属性可以修改元素的默认显示模式

转换方式：
- 转换为块元素：`display: block;`
- 转换为行内元素：`display: inline;`
- 转换为行内块：`display: inline-block;`
- 隐藏：`display: none;`

## 盒子模型

CSS 会把所有的 HTML 元素都看成一个盒子，所有的样式也都是基于这个盒子

1. margin（外边距）： 盒子与外界的距离
2. border（边框）： 盒子的边框
3. padding（内边距）： 紧贴内容的补白区域
4. content（内容）：元素中的文本或后代元素都是它的内容

![CSS盒子模型01.png](https://obsidian-picture.oss-cn-qingdao.aliyuncs.com/my-img/CSS盒子模型01.png)

`盒子的大小=content+左右 padding+左右border`

注意：外边距 margin 不会影响盒子的大小，但会影响盒子的位置

### 盒子内容区（content）

| CSS 属性名   | 功能                   | 属性值 |
| ------------ | ---------------------- | ------ |
| `width`      | 设置内容区域宽度       | 长度   |
| `max-width`  | 设置内容区域的最大宽度 | 长度   |
| `min-width`  | 设置内容区域的最小宽度 |  长度      |
| `height`     | 设置内容区域高度       |  长度      |
| `max-height` | 设置内容区域的最大高度 |  长度      |
| `min-height` | 设置内容区域的最小高度 |  长度      |

注意： 
1. max-width 、 min-width 一般不与 width 一起使用
2. max-height 、 min-height 一般不与 height 一起使用

#### 关于默认宽度

所谓的默认宽度，就是不设置 width 属性时，元素所呈现出来的宽度

`总宽度 = 父的content — 自身的左右margin` 

`内容区的宽度 = 父的content — 自身的左右margin — 自身的左右border — 自身的左右padding`

### 盒子内边距（padding）

| CSS 属性名    | 功能     | 属性值 |
| ------------- | -------- | ------ |
| `padding-top` | 上内边距 | 长度   |
| `padding-right` | 右内边距         |  长度      |
| `padding-bottom` |  下内边距        |  长度      |
| `padding-left` |   左内边距       |  长度      |
| `padding`              |   复合属性       | 长度，可以设置 1~4 个值       |

padding 复合属性的使用规则： 
1. `padding: 10px;` 四个方向内边距都是 10px 
2. `padding: 10px 20px;` 上下 10px ，左右 20px 。（上下、左右） 
3. `padding: 10px 20px 30px;` 上 10px ，左右 20px ，下 30px 。（上、左右、下） 
4. `padding: 10px 20px 30px 40px;` 上 10px ，右 20px ，下 30px ，左 40px 。（上、右、下、左）

注意点：
1. padding 的值不能为负数
2. 行内元素的左右内边距是没问题的，上下内边距不能完美的设置
3. 块级元素、行内块元素，四个方向内边距都可以完美设置

### 盒子边框（border）

border 可以设置元素的边框

边框由三部分组成：边框宽度 (粗细)、边框样式、边框颜色

语法：
```css
border : border-width || border-style || border-color;   
```

| 属性         | 作用                    |
| ------------ | ----------------------- |
| border-width | 定义边框粗细，单位是 px |
| border-style | 边框的样式              |
| border-color             |  边框颜色                       |

边框样式 border-style 可以设置如下值：
- none：没有边框即忽略所有边框的宽度（默认值）
- solid：边框为单实线 (最为常用的)
- dashed：边框为虚线  
- dotted：边框为点线

边框简写：
```css
border: 1px solid red;  /* 没有顺序 */
```

边框分开写法：
```css
border-top: 1px solid red;  /* 只设定上边框， 其余同理 */   
```

### 盒子外边距（margin）

margin 属性用于设置外边距，即控制盒子和盒子之间的距离

| 属性        | 作用     |
| ----------- | -------- |
| margin-left | 左外边距 |
| margin-right | 右外边距         |
| margin-top |  上外边距        |
| margin-bottom            |  下外边距        |

#### margin 注意事项

1. 子元素的 margin ，是参考父元素的 content 计算的。（因为是父亲的 content 中承装着子元素）
2. 上 margin 、左 margin ：影响自己的位置；下 margin 、右 margin ：影响后面兄弟元素的位置
3. 块级元素、行内块元素，均可以完美地设置四个方向的 margin ；但行内元素，左右 margin 可以完美设置，上下 margin 设置无效
4. margin 的值也可以是 auto ，如果给一个块级元素设置左右 margin 都为 auto ，该块级元素会在父元素中水平居中
5. margin 的值可以是负值

#### margin 合并问题

上面兄弟元素的下外边距和下面兄弟元素的上外边距会合并，取一个最大的值，而不是相加

相邻块元素垂直外边距的合并
+ 当上下相邻的两个块元素（兄弟关系）相遇时，如果上面的元素有下外边距 margin-bottom，下面的元素有上外边距 margin-top ，则他们之间的垂直间距不是 margin-bottom 与 margin-top 之和。取两个值中的较大者这种现象被称为相邻块元素垂直外边距的合并
+ 解决方案：尽量只给一个盒子添加 margin 值

![CSS盒子模型02.png](https://obsidian-picture.oss-cn-qingdao.aliyuncs.com/my-img/CSS盒子模型02.png)

#### margin 塌陷问题

第一个子元素的上 margin 会作用在父元素上，最后一个子元素的下 margin 会作用在父元素上

嵌套块元素垂直外边距的塌陷
+ 对于两个嵌套关系（父子关系）的块元素，父元素有上外边距同时子元素也有上外边距，此时父元素会塌陷较大的外边距值
+ 解决方案：
	+ 可以为父元素定义上边框（border）
	+ 可以为父元素定义上内边距（padding）
	+ 可以为父元素添加 `overflow:hidden`

![CSS盒子模型02.png](https://obsidian-picture.oss-cn-qingdao.aliyuncs.com/my-img/CSS盒子模型03.png)

## 元素的显示与隐藏

- 目的：让一个元素在页面中消失或者显示出来
- 场景：类似网站广告，当我们点击关闭就不见了，但是我们重新刷新页面，会重新出现

### display 显示

- display 属性用于设置一个元素应如何显示
```css
display: none； /* 隐藏对象 */
display：block；/* 除了转换为块级元素之外，同时还有显示元素的意思 */
```
- 特点： display 隐藏元素后，不再占有原来的位置

### visibility 可见性

- visibility 属性用于指定一个元素应可见还是隐藏
```css
visibility：visible; 　/* 元素可视 */
visibility：hidden; 　 /* 元素隐藏 */
```
- 特点：visibility 隐藏元素后，继续占有原来的位置
- 如果隐藏元素想要原来位置，就用 `visibility:hidden;`
- 如果隐藏元素不想要原来位置，就用 `display:none;`

### overflow 溢出

- overflow 属性指定了如果内容溢出一个元素的框（超过其指定高度及宽度） 时，会发生什么

| 属性值      | 描述                                       |
| ----------- | ------------------------------------------ |
| **visible** | 不剪切内容也不添加滚动条                   |
| **hidden**  | 不显示超过对象尺寸的内容，超出的部分隐藏掉 |
| **scroll**  | 不管超出内容否，总是显示滚动条             |
| **auto**    | 超出自动显示滚动条，不超出不显示滚动条     |

-  一般情况下，我们都不想让溢出的内容显示出来，因为溢出的部分会影响布局
- 但是如果有定位的盒子，请慎用 `overflow:hidden`  因为它会隐藏多余的部分
+ 用途
	+ 清除浮动
	+ 保证盒子里面的内容不会超出该盒子范围

### 显示与隐藏总结

| 属性                           | 区别                   | 用途                                                         |
| ------------------------------ | ---------------------- | ------------------------------------------------------------ |
| display 显示  | 隐藏对象，不保留位置   | 配合后面 js 做特效，比如下拉菜单，原先没有，鼠标经过，显示下拉菜单，应用极为广泛 |
| visibility 可见性| 隐藏对象，保留位置     | 使用较少                                                     |
| overflow 溢出    | 只是隐藏超出大小的部分 | 1. 可以清除浮动 2. 保证盒子里面的内容不会超出该盒子范围     |

## 布局小技巧

1. 行内元素、行内块元素，可以被父元素当做文本处理
2. 如何让子元素在父亲中水平居中：
	+ 若子元素为块元素，给父元素加上： `margin:0 auto;`
	+ 若子元素为行内元素、行内块元素，给父元素加上： `text-align:center;`
3. 如何让子元素，在父亲中垂直居中（若想绝对垂直居中，父元素 font-size 设置为 0）：
	+  若子元素为块元素，给子元素加上： `margin-top` ，值为：`(父元素content －子元素盒子总高) / 2`
	+ 若子元素为行内元素、行内块元素：让父元素的 `height = line-height` ，每个子元素都加上： `vertical-align: middle;`

### 元素之间的空白问题

产生原因：行内元素、行内块元素，彼此之间的换行会被浏览器解析为一个空白字符

解决方案：
1. 方案一： 去掉换行和空格（不推荐）
2. 方案二： 给父元素设置 `font-size: 0` ，再给需要显示文字的元素，单独设置字体大小（推荐）

### 行内块的幽灵空白问题

产生原因：行内块元素与文本的基线对齐，而文本的基线与文本最底端之间是有一定距离的

解决方案：
1. 方案一： 给行行内块设置 `vertical-align` ，值不为 baseline 即可，设置为 middel 、 bottom 、 top 均可
2. 方案二： 若父元素中只有一张图片，设置图片为 `display: block;` 
3. 方案三： 给父元素设置 `font-size: 0;` 。如果该行内块内部还有文本，则需单独设置 `font-size`
