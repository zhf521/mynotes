---
title: 前端工程化
order: 6
---

## 1. 设计模式

### 1. 什么是设计模式

在软件工程中，设计模式是对软件设计中普遍存在的各种问题所提出的解决方案

设计模式并不直接用来完成代码的编写，而是描述在各种不同情况下，要怎么解决问题的一种方案

### 2. 常见的设计模式

+ 单例模式
  + 全局唯一的实例
  + 保证一个类仅有一个实例，并提供一个访问它的全局访问点
  + 实现的方法为先判断实例存在与否，如果存在则直接返回，如果不存在就创建了再返回，这就确保了一个类只有一个实例对象
  + 如`Vuex`中的`store`
  + 如登录框
+ 工厂模式
  + 工厂模式通常会分成3个角色：
    + 工厂角色-负责实现创建所有实例的内部逻辑
    + 抽象产品角色-是所创建的所有对象的父类，负责描述所有实例所共有的公共接口
    + 具体产品角色-是创建目标，所有创建的对象都充当这个角色的某个具体类的实例
+ 策略模式
  + 策略模式，就是定义一系列的算法，把他们一个个封装起来，并且使他们可以相互替换
+ 代理模式
  + 为对象提供一个代用品或占位符，以便控制对它的访问
  + 例如实现图片懒加载的功能，先通过一张`loading`图占位，然后通过异步的方式加载图片，等图片加载好了再把完成的图片加载到`img`标签里面
  + 如`ES6 Proxy`实现`Vue3`响应式
+ 装饰者模式
  + 在不改变对象自身的基础上，在程序运行期间给对象动态地添加方法
  + 通常运用在原有方法维持不变，在原有方法上再挂载其他方法来满足现有需求
+ 发布订阅模式
  + 一种对象间一对多的依赖关系，当一个对象的状态发生改变时，所依赖它的对象都将得到状态改变的通知
  + 广泛应用于异步编程中(替代了传递回调函数)

## 2. require与import的区别与使用

区别：

1. **规范**：require是**CommonJS**规范的模块化语法，import是**ECMAScript 6**规范的模块化语法，如果要兼容浏览器的话必须转化成ES5的语法；CommonJS模块默认export的是一个对象，即使导出的是**基础数据类型**
2. **本质：**require是**赋值**过程，其实require 的结果就是对象、数字、字符串、函数等，再把require的结果赋值给某个变量，引入复杂数据类型时，数据**浅拷贝**该对象。import是**解构**过程
3. **加载**：require是**运行**时加载，import是**编译**时加载
4. **位置**：require可以写在代码的**任意**位置，import只能写在文件的**最顶端**且不可在条件语句或函数作用域中使用
5. **改变**：require通过**module.exports**导出的**值**就**不能再变**，import通过export导出的值可以改变

使用：

CommonJS标准：

导出：

```js
module.exports = {
  对外属性名: 模块内私有变量
}
```

导出：

```js
const 变量名 = require('模块名或路径');
// Node.js 环境内置模块直接写模块名（例如：fs，path，http）
// 自定义模块：写模块文件路径（例如：./utils.js)
```

例如：

```js
const moduleA = require('moduleA');
const func1 = moduleA.func1;
const func2 = moduleA.func2;
```

ECMAScript 6标准：

导出：

```js
export default {
  对外属性名: 模块内私有变量
}
```

导入：

```js
import 变量名 from '模块名或路径';
```

例如：

```js
import { func1, func2 } from 'moduleA';
 
module.exports/export
```

## 3. JavaScript的运行环境

**脚本语言**需要一个**解析器**才能**运行**，每一种解析器都是一个**运行环境**

JavaScript是脚本语言，在不同的位置有不一样的解析器

### 1. 浏览器

写入HTML的JavaScript，浏览器是它的解析器角色

浏览器中的JavaScript的用途是操作DOM，浏览器就提供了document之类的内置对象

### 2. Node

Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境，独立于浏览器的运行环境

Node.js中的JavaScript的用途是操作磁盘文件或搭建HTTP服务器，Node.js就相应提供了fs,http等内置对象

